# 问卷管理功能 - 管理员菜单集成指南

## 问题说明

在完成问卷管理功能的后端实现后，您反馈在admin页面中没有看到问卷管理的入口。这是因为前端可能使用了硬编码的菜单配置，没有动态获取后端提供的菜单。

## 解决方案

我已经在admin.js中添加了一个动态获取管理员菜单的接口。这个接口返回包含问卷管理的完整菜单结构，前端可以通过调用这个接口来动态加载菜单。

## 接口详情

- **接口地址**: `/api/admin/menu`
- **请求方法**: GET
- **认证要求**: 需要管理员JWT令牌
- **返回数据**: 包含所有管理功能菜单的JSON数组

## 接口返回示例

```json
{
  "code": 200,
  "message": "获取管理员菜单成功",
  "data": [
    {
      "id": "dashboard",
      "name": "仪表盘",
      "path": "/dashboard",
      "icon": "dashboard"
    },
    {
      "id": "users",
      "name": "用户管理",
      "path": "/users",
      "icon": "users"
    },
    // ... 其他菜单项 ...
    {
      "id": "surveys",
      "name": "问卷管理",
      "path": "/surveys",
      "icon": "list-alt",
      "children": [
        {
          "id": "survey-questions",
          "name": "问卷问题管理",
          "path": "/surveys/questions"
        },
        {
          "id": "survey-responses",
          "name": "问卷回答记录",
          "path": "/surveys/responses"
        }
      ]
    }
  ]
}
```

## 前端集成建议

1. **修改前端菜单加载逻辑**：
   - 将当前硬编码的菜单配置替换为调用 `/api/admin/menu` 接口获取
   - 保存获取到的菜单数据到前端状态管理（如Vuex、Redux等）
   - 根据返回的菜单数据动态渲染侧边栏菜单

2. **添加问卷管理页面路由**：
   - 确保前端路由配置中包含问卷管理相关的路由
   - 为问卷问题管理和问卷回答记录创建对应的组件页面

## 临时解决方案（如果无法修改前端）

如果暂时无法修改前端代码，可以使用浏览器开发工具的Network面板，手动调用 `/api/admin/menu` 接口，然后根据返回的菜单结构，确认问卷管理的路径，直接在浏览器地址栏输入路径访问：

- 问卷问题管理: `/admin/surveys/questions`
- 问卷回答记录: `/admin/surveys/responses`

## 注意事项

- 确保前端调用接口时携带了有效的管理员认证令牌
- 问卷管理功能需要配合之前创建的数据库表结构（请运行`scripts/init-survey.sql`脚本）

如果您需要进一步的前端集成帮助，请提供前端代码的位置或前端框架信息，我可以提供更具体的修改建议。